<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Test Psychotechnique — 15min</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body{font-family:system-ui,Arial;background:#f4f6f9;color:#222;padding:18px}
    .container{max-width:900px;margin:0 auto;background:#fff;padding:18px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,.08)}
    h1{margin-top:0}
    #timer{float:right;font-weight:700;color:#b30000}
    .question{margin:18px 0;padding:12px;border:1px solid #eee;border-radius:6px}
    .options label{display:block;margin:8px 0;cursor:pointer}
    .controls{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}
    button{padding:8px 12px;border-radius:8px;border:none;background:#2d8cff;color:#fff;cursor:pointer}
    button.secondary{background:#6c757d}
    #result{margin-top:16px;padding:12px;background:#f7f9fc;border-radius:8px;border:1px solid #eef2f7}
  </style>
</head>
<body>
  <div class="container">
    <h1>Test Psychotechnique — 15 minutes <span id="timer">15:00</span></h1>
    <p>Réponds aux questions. Le score final est aussi converti sur 60 points.</p>

    <div id="quiz"></div>

    <div class="controls">
      <button type="button" id="prevBtn" class="secondary">Précédent</button>
      <button type="button" id="nextBtn">Suivant</button>
      <button type="button" id="finishBtn">Terminer</button>
    </div>

    <div id="result" style="display:none"></div>
  </div>

<script>
/* Exemple : tu peux remplacer/ajouter des questions dans ce tableau */
const questions = [
  { text: "1) 3 + 4 = ?", options:["5","6","7","8"], answer: "7", cat:"Numérique" },
  { text: "2) Trouvez l'intrus : Chat, Chien, Voiture, Cheval", options:["Chat","Chien","Voiture","Cheval"], answer: "Voiture", cat:"Verbal" },
  { text: "3) Suite : 2,4,8,16, ?", options:["18","24","32","20"], answer: "32", cat:"Logique" },
  { text: "4) Synonyme de 'laconique' :", options:["Prolixe","Succinct","Vague","Exubérant"], answer: "Succinct", cat:"Verbal" },
  { text: "5) 18 est quel % de 72 ?", options:["15%","20%","22.5%","25%"], answer: "25%", cat:"Numérique" },
  { text: "6) Combien de 'A' dans 'ABRACADABRA' ?", options:["4","5","6","7"], answer: "5", cat:"Attention" },
  { text: "7) 5*3 - 4 = ?", options:["11","13","15","10"], answer: "11", cat:"Numérique" },
  { text: "8) Quelle lettre entre E et T sur AZERTY ?", options:["R","Z","Y","W"], answer: "R", cat:"Attention" },
  { text: "9) 'Livre' est à 'lire' comme 'Musique' est à :", options:["écouter","voir","écrire","parler"], answer: "écouter", cat:"Verbal" },
  { text: "10) Suite logique : 1,1,2,3,5,8, ?", options:["10","11","12","13"], answer: "13", cat:"Logique" },
  { text: "11) 15 ÷ 3 + 4 = ?", options:["7","8","9","10"], answer: "9", cat:"Numérique" },
  { text: "12) Forme à 4 côtés égaux :", options:["Triangle","Rectangle","Carré","Cercle"], answer: "Carré", cat:"Attention" },
  { text: "13) Si hier était lundi, après-demain sera :", options:["Jeudi","Mercredi","Vendredi","Samedi"], answer: "Jeudi", cat:"Logique" },
  { text: "14) Moyenne de 6,12,18 ?", options:["10","12","14","16"], answer: "12", cat:"Numérique" },
  { text: "15) Intrus : Rouge, Bleu, Carré, Vert", options:["Rouge","Bleu","Carré","Vert"], answer: "Carré", cat:"Attention" },
  { text: "16) 7 + 5 = ?", options:["11","12","13","14"], answer: "12", cat:"Numérique" },
  { text: "17) Synonyme de 'succinct' :", options:["Bavard","Bref","Large","Compliqué"], answer: "Bref", cat:"Verbal" },
  { text: "18) Complétez : 30, 42, 56, ?", options:["72","72","72","72"], answer: "72", cat:"Logique" }
];

let current = 0;
const answers = new Array(questions.length).fill(null);

const quizEl = document.getElementById('quiz');
const resultEl = document.getElementById('result');

function renderQuestion(i){
  const q = questions[i];
  quizEl.innerHTML = `
    <div class="question">
      <p><strong>${q.text}</strong></p>
      <div class="options">
        ${q.options.map((o,idx)=>`<label><input type="radio" name="q${i}" value="${o}" ${answers[i]===o?'checked':''}> ${o}</label>`).join('')}
      </div>
      <p style="font-size:0.9em;color:#666">Question ${i+1} / ${questions.length} — Catégorie : ${q.cat}</p>
    </div>
  `;
}
renderQuestion(0);

document.getElementById('nextBtn').addEventListener('click', ()=>{
  const sel = document.querySelector(`input[name="q${current}"]:checked`);
  if(sel) answers[current]=sel.value;
  if(current < questions.length-1){ current++; renderQuestion(current); } else finish();
});
document.getElementById('prevBtn').addEventListener('click', ()=>{
  const sel = document.querySelector(`input[name="q${current}"]:checked`);
  if(sel) answers[current]=sel.value;
  if(current>0){ current--; renderQuestion(current); }
});
document.getElementById('finishBtn').addEventListener('click', finish);

function finish(){
  // save last
  const sel = document.querySelector(`input[name="q${current}"]:checked`);
  if(sel) answers[current]=sel.value;
  // calc score
  let correct = 0;
  questions.forEach((q,i)=>{ if(answers[i]===q.answer) correct++; });
  const pct = Math.round(100 * correct / questions.length);
  const score60 = Math.round((correct / questions.length) * 60);
  resultEl.style.display='block';
  resultEl.innerHTML = `<strong>Résultat :</strong> ${correct} / ${questions.length} (${pct}%).<br>Note sur 60 : ${score60} / 60.`;
  // scroll to result
  resultEl.scrollIntoView({behavior:'smooth'});
}

/* Timer 15 minutes */
let timeLeft = 15 * 60;
const timerEl = document.getElementById('timer');
const timerId = setInterval(()=>{
  if(timeLeft<=0){ clearInterval(timerId); finish(); alert('Temps écoulé !'); return; }
  timeLeft--;
  const m = Math.floor(timeLeft/60), s = timeLeft%60;
  timerEl.textContent = `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
},1000);
</script>
</body>
</html>
